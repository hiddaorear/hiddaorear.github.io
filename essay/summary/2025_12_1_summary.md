# lumina项目中胶水层的胶水层

## 自底向上和自顶向下

项目的层次结构设计，通常有两个方向。一个是自底向上，从具体到抽象，从业务的具体操作开始，向上进行。一个自顶向下，从抽象到具体，从高层对项目的应用逻辑开始，向下进行。

项目完全自顶向下，则存在应用逻辑所需的领域原语和真实的领域原语，无法匹配的风险。

项目完全自底向上，则存在做了许多与应用逻辑无法的工作。

因此，工程中，二者兼备。用自顶向下的应用逻辑表达抽象，用自底向上思路来收集底层的领域原语。代码是自顶向下和自底向上综合的产物。项目中同时有自顶向下的自底向上的代码，这样就有连接二者的“胶水层”。 胶水层去匹配顶层的应用逻辑和底层的领域原语。

## 胶水层的胶水层

Unix中的经验教训：胶水层必须尽可能薄。

项目中的代码，如果既不属于应用逻辑，又不属于领域原语，那么代码除了会增加项目的复杂度，无其他用处。应用逻辑和领域原语，应当清晰分离。

现实项目往往没有做到清晰分离，就会导致胶水层设计的较糟糕的情况，在胶水层上加胶水层。

项目中开发觉察到胶水层的存在以后，很容易围绕胶水层自身设计，叠床架屋，把胶水层组织为一个中间层，这样就有了两个胶水层。胶水层越来越厚，项目陷入的焦油坑。

## 模版发布的问题



