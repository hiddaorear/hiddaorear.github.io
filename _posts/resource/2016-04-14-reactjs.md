---
layout: post
title:  React
category: 资源
tags: [React]
keywords: React
description:
---

### React

#### React

#### Wednesday, 14 April 2016

![ChenBi](/../../assets/img/resource/2016/ChenBi_5.jpg)

### React-route

```javascript

import {Router, Route, Link, hashHistory } from 'react-router'

class Test extends React.Component{
  render () {
    return (
      <div>
        <h2>Test</h2>
        <Link to="/about">About</Link>
        <Link to="/inbox">Inbox</Link>
        {this.props.children}
      </div>
    )
  }
}

class DefaultPage extends React.Component {
  render () {
    return (
      <div>
        <h2>DefaultPage test</h2>
      </div>
    )
  }
}

class Inbox extends React.Component{
  render () {
    return (
      <div>
        <Link to="/inbox/message/:id">message</Link>
        <h2>message test</h2>
        {this.props.children || "Welcome to your Inbox"}
      </div>
    )
  }
}




class About extends React.Component {
  render () {
    return (
      <div>
        <h2>About test</h2>
      </div>
    )
  }
}

class Message extends React.Component {
  render () {
    return (
      <div>
        <h3>Message test </h3>
        {this.props.params.id || "Welcome to you Inbox"}
      </div>
    )
  }
}

const routes = [{
  path: '/',
  component: Test,
  indexRoute: {
    component: DefaultPage
  },
  childRoutes: [
    {path: 'about', component: About},
    {path: 'inbox',
      component: Inbox,
      onEnter: (nextState, replaceState) => {console.info('Inbox')},
      childRoutes: [
        {
          path: 'message/:id',
          component: Message,
          onEnter: (nextState, replaceState) => {console.info('message')}
        }
      ]
    }
  ]
}]

const appTest = document.createElement('div');
document.body.appendChild(appTest);
ReactDOM.render(<Router routes={routes} history={hashHistory}></Router>, appTest)

```

报错汇总：

```avascript

[react-router] `Router` no longer defaults the history prop to hash history. Please use the `hashHistory` singleton instead.

// v2.0.0
// hash history
import { hashHistory } from 'react-router'
<Router history={hashHistory} />

```

### React-Redux

```javascript
import React from 'react';
import {render} from 'react-dom';
import { createStore,bindActionCreators } from 'redux';
import { Provider ,connect} from 'react-redux';

//action
function changeText(){
    return {
        type:'CHANGE_TEXT'
    }
}

function buttonClick(){
    return {
        type:'BUTTON_CLICK'
    }
}

//reducer
const initialState = {
    text: 'Hello'
}
function myApp(state = initialState, action) {
    switch (action.type) {
        case 'CHANGE_TEXT':
            return {
                text:state.text=='Hello'?'Stark':'Hello'
            }
        case 'BUTTON_CLICK':
            return {
                text: 'You just click button'
            }
        default:
          return {
            text:'Hello'
        };
    }
}

//store
let store = createStore(myApp);


class Hello extends React.Component{
    constructor(props) {
        super(props);
        this.handleClick = this.handleClick.bind(this);
    }

    handleClick(){
        this.props.actions.changeText();
    }

    render() {
        return (
            <h1 onClick={this.handleClick}> {this.props.text} </h1>
        );
    }
}

class Change extends React.Component{
    constructor(props) {
        super(props);
        this.handleClick = this.handleClick.bind(this);
    }

    handleClick(){
        this.props.actions.buttonClick();
    }

    render() {
        return (
            <button onClick={this.handleClick} >change</button>
        );
    }
}

class App extends React.Component{

    constructor(props) {
        super(props);
    }

    render() {
        const { actions, text} = this.props;
        return (
            <div>
                <Hello actions={actions} text={text}/>
                <Change actions={actions}/>
            </div>
        );
    }
}

function mapStateToProps(state) {
  return { text: state.text }
}

function mapDispatchToProps(dispatch){
    return{
        actions : bindActionCreators({changeText:changeText,buttonClick:buttonClick},dispatch)
    }
}

App = connect(mapStateToProps,mapDispatchToProps)(App)

render(
    <Provider store={store}>
        <App />
    </Provider>,
    document.getElementById('root')
)



```



## 参考资料：

### tutorial

[React 入门实例教程](http://www.ruanyifeng.com/blog/2015/03/react.html)

[React 教程](http://www.runoob.com/react/react-tutorial.html)


### redux

[Redux是如何工作的 (一)](http://chatting8.com/?p=883)

[深入到源码：解读 redux 的设计思路与用法 ](http://div.io/topic/1309)

[用React+Redux+ES6写一个最傻瓜的Hello World](https://github.com/starkwang/react-redux-es6-quickstart)

[redux 大法好 —— 入门实例 TodoList](http://qiutc.me/post/redux-%E5%A4%A7%E6%B3%95%E5%A5%BD-%E2%80%94%E2%80%94-%E5%85%A5%E9%97%A8%E5%AE%9E%E4%BE%8B-TodoList.html)

[Redux 中文文档](https://camsong.github.io/redux-in-chinese/index.html)

[React 数据流管理架构之 Redux 介绍](http://www.alloyteam.com/2015/09/react-redux/)

[React和Redux的连接react-redux](https://leozdgao.me/reacthe-reduxde-qiao-jie-react-redux/)

[如何科学的组织React组件样式](https://leozdgao.me/ru-he-ke-xue-de-zu-zhi-reactzu-jian-yang-shi/)

[对Redux实践中数据请求的一些想法](https://leozdgao.me/reduxshi-jian-zhong-de-xie-xiang-fa/)

[这段时间研究了下Redux，写写自己对它的感觉](http://react-china.org/t/redux/2687)

[深入理解React、Redux](http://www.jianshu.com/p/0e42799be566)

[深入到源码：解读 redux 的设计思路与用法](http://div.io/topic/1309)


hid say：Hello World!
