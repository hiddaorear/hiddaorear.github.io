---
layout: post
title:  HTLM5之JSON(1)
category: 技术
tags: [HTML5 Ajax]
keywords: HTML5 Ajax
description: 
---

##### Monday, 20 April 2015

### HTLM5之JSON(1)


![马远](/../../assets/img/tech/2015/Vincent_Willem_van_Gogh_015.jpg)

### JSON definition

> JSON:JavaScript Object Notation.

> JSON is built on two structures:
- A collection of name/value pairs. In various languagges, this is realized as an object, record, struce, dictionary, hash table, keyed list, or associative array.
- An ordered list of values. In most languagges, this is realized as an array, vector list, or sequence.


### JSON语法
- 简单值：不支持JavaScript中的特殊值undefined，支持字符串、数值、布尔值和null；
- 对象：Hash table，值可以是简单值或复杂数据类型值;
- 数组：有序值列表，值可以是简单值、对象或数组。
注意，对象的属性必须加双引号，这在JSON中是必须的。
![json value](/../../assets/img/tech/2015/json_value.gif)

### About undefined

- `undefined`值、函数或XML会被忽略；
- 数组中的`undefined`值、函数或XML值，被当成`null`;

````javascript
JOSN.stringify({
   "something": undefined
  ,"doStuff": function() {}
  ,"doThings": [function() {}, underfined]
});
// => {doThings: [null, null]}
````

### JSON & XML

1. XML是一个完整的标记语言，JOSN不是；
2. 因此，XML在程序判读上要较多功夫；
3. XML设计理念与JSON不同，XML提供绝佳的拓展性。

所以，数据存储以及高级检索方面具备优势，而JSON则小巧，适合网络数据传输。

### Shortcoming

JSON无法表达自我引用的对象图。类似，如果要表达一棵树，树的父子节点间有双向引用，JSON无法表达。

````javascript
var obj = {
  "self": null
  ,"name": "me"
}

obj.self = obj;

// =>  无法用JSON表达
````

### JavaScript JSON.stringify()

````javascript
var book = {
  "title": "Professional JavaScript"
  ,"authors": ["Nicholas C. Zaks"]
  ,"edition": 3
  ,"year": 2011
}

var jsonText = JSON.stringify(book);
// => {"title": "Professional JavaScript" ,"authors": ["Nicholas C. Zaks"],"edition": 3,"year": 2011}
````

参数的使用：

````javascript
JSON.stringify(arg0, arg1, arg2)
````
1. 过滤结果，arg1可以数组或函数。若为数组，结果只包含数组中列出的属性；
2. 字符串缩进，arg2表示是否在序列化之后的字符串中保持缩进。
可以使用toSJSON()方法达到更细致的自定义序列化要求。

### JavaScript JSON.parse()
也可以接收一个参数，可以用于每个键值对。

### 参考资料
《 Professional JavaScript for Web Developers》(3rd Edition)
[JSON - Wikipedia, the free encyclopedia](http://en.wikipedia.org/wiki/JSON#History)
[JSON - 维基百科](http://zh.wikipedia.org/zh/JSON)
[JSONP - 维基百科](http://zh.wikipedia.org/wiki/JSONP)
[JSON](http://www.json.org/json-zh.html)
[你可能不知道的JSON.stingify()](http://www.jianshu.com/p/jtzqxp#)
[熵 (信息论) - 维基百科](http://zh.wikipedia.org/zh/%E7%86%B5_(%E4%BF%A1%E6%81%AF%E8%AE%BA))
[每天进步一点点——五分钟理解一致性哈希算法(consistent hashing)](http://blog.csdn.net/cywosp/article/details/23397179)
[十一、从头到尾彻底解析Hash表算法 - 结构之法 算法之道](http://blog.csdn.net/v_JULY_v/article/details/6256463#comments)
[散列函數 - 维基百科](http://zh.wikipedia.org/zh/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B8)


hid say: 
