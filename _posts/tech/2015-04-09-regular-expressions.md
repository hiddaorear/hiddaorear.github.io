---
layout: post
title:  Mastering Regular Expression(3)
category: 技术
tags: [Regular Expression]
keywords: Regulaer expression 
description: 
---

##### Thursday, 09 April 2015

### 读《精通正则表达式》(三)

#### ---正则表达式原理

![彼之云端,相约的地方](/../../assets/img/tech/2015/the_place_promised_in_our_early_days.jpg)

> 你至今还不知道,很多日子,我是捧个烤白薯暖手,坐在天安门外石墩上,看天上残星疏月等待天明,有人开门才进去的.同时也想想所有过去熟人,用"作家"名分,长年在天上飞来飞去,去到世界友好国家,受尽了人间款待,真和天上明星一样.我却脚踏实地地过日子.
从文家书·1974年2月·张兆和

> 小至于忘了洗脸,理发,也居然会生气不快乐?忘了吃顿饭,又算什么?我来北京两年,就经常有一顿无一顿的混下去,有些短篇,还一面流鼻血写成的!脑力得用到一生成熟高峰,一切工作,都包含了我们真正相互要好得到的成绩(特别是对我不当一般人的看待),不辜负你的"贤内助"的帮助的结果.
从文家书·1974年2月·张兆和


正则引擎背后的计算机理论是:有限状态自动机.NFA(Non-deterministic finite automation)对应非确定型有穷状态机,DFA(determinisitic finite automation)对应确定型有穷状态机.非确定有限自动机有时被成为有限类型的子移位(subshift).使用NFA的语言和工具包括.NET,PHP,Ruby,Perl,Python,GNU Emacs,ed,sec,vi,grep的多数版本.NFA是对每个状态和输入符号对可以有多个可能的下一个状态的有限状态自动机.DFA的下一个状态是唯一确定的.尽管DFA和NFA有不同的定义,在形式理论中可以证明他们是等价的.

两者在正则表达式引擎的区别是:
1.NFA以表达式为主导;
2.DFA以文本文本为主导.
相对来说,DFA有效率上的优势.

正则表达式中普适的两条规则是:
1.优先选择最左端(最靠开头)的匹配结果;
2.标准的匹配量词(*,+,?)和({m,n})是匹配优先的.

由于NFA中优先规则,先遇到先处理,且匹配字符和匹配量词都采取贪婪算法处理,只要能匹配,在没有匹配结束的情况下,尽最大可能匹配.当正则表达式后面还有需要需要匹配的正则表达式时,NFA采取回溯(backtracking)策略,以前面匹配的记录的状态,逆序匹配接下来的正则表达式.以前的状态相当于面包屑,当迷路时,会从最近的面包屑开始找路.因此,NFA的匹配速度与正则表达式的书写,关系极大.

本想深入看看有限状态机的背后的数学原理,看到两位图灵奖得主:Michael O.Rabin and Dana Steward Scott,还有他们的老师,发明λ-演算的Alonzo Church,我想还是乖乖把数学学好.

计算机编程的方面的很多问题,只要往深入去,在一定深度就会遇到数学.数学不啻为抽象万千世界的绝佳工具.哈代却说,以实用而论,他的数学生涯价值为零.

### 参考资料
[确定有限状态自动机 - 维基百科](http://zh.wikipedia.org/wiki/%E7%A1%AE%E5%AE%9A%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA)
[有穷自动机](http://metc.gdut.edu.cn/compile/cmpl3/3-3.htm)


hid say:从文家书,所记之事极为琐碎,家事均语重心长.还是沈从文大师一贯的做派,凡极重之事,以平淡之语言之,就想陶渊明的诗一样.不啻文字如此,做人做事亦如此,文如其人,星斗其文也.


