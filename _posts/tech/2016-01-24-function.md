---
layout: post
title:  Functional JavaScript 
category: 资源
tags: [Functional JavaScript ]
keywords: Functional JavaScript 
description: 
---

### Functional JavaScript 

#### Functional JavaScript 

#### Sunday, 24 Jan 2016

![老树画画](/../../assets/img/resource/2016/LaoShuHuaHua_3.jpeg)

````
<!doctype html>
<html>
  <head></head>
<body>

<div id="box" style="width:256px;font:25px/25px 宋体;background:#000;color:#9f9;"></div>

<script>

var arr = [15];
var next = 10; //最好判断一下arr[1]!=arr[0]+x

// 监听键盘按键事件，获取对应的keyCode，得到对应的方向数值，-1,1,-10,10
// 这种写法，很精彩，很简洁
// 少了一个中间变量
document.onkeydown = function(e){
  next = {
    '37' : -1
    ,'39': 1
    ,'38': -10
    ,'40': 10
  }[( e ? e : event ).keyCode]
  console.info(next, e, event)
};

// 每200毫秒移动一格， Ps，作者没想过这个函数会导致性能问题么，为了简洁而简洁，不妥
var run = setInterval( function(){

    var list = ['-1&&arr[0]%10==0', '1&&arr[0]%10==9', '-10&&arr[0]<10', '10&&arr[0]>189'];
    var temp = arr[0] + next;

    // 碰撞边界检测？
    if( list.some(function(x) { return eval('next=='+x) }) || arr.indexOf(temp) >= 0) {
      return clearInterval(run) || alert('OVER');
    }

    arr.unshift(temp);

    if( this.food == null || food == temp ){
      list=[];

      for(var i=0; i < 200; i++) {
        list.push(i);
      }

      list = list.filter(function(x) {
        return arr.indexOf(x)<0
      });

      food = list[ Math.round(Math.random()*( list.length-1 )) ]; //food是全局变量
    }
    else {
      arr.pop();
    }

    var s='';
    for ( var j=0; j < 200; j++ ) {//这个循环还可以缩短

      if( j % 10 ==0 && j != 0 )
        s += '<br/>';
      if( arr.indexOf(j) >= 0 )
        s += '\u25a0';
      else if( j == food )
        s += '\u2605';
      else
        s += '&emsp;';
    }

    document.getElementById("box").innerHTML = s;

}, 200);

</script>

</body>
</html>



````


## 参考资料：

[函数式编程](http://coolshell.cn/articles/10822.html)

[Functional JavaScript Mini Book](https://blog.oyanglul.us/javascript/functional-javascript.html)

[JS函数式编程指南](https://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details)

[使用JavaScript实现“真·函数式编程”](http://jimliu.net/2015/10/21/real-functional-programming-in-javascript-1/)

[函数式JavaScript（2）：如何打造“函数式”编程语言？](http://blog.jobbole.com/77078/)

Hid say：Functional JavaScript 。
